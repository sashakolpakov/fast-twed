<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twed.utils</title>
    <meta name="generator" content="pydoctor 24.11.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
    
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          Fast TWED <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="apidocs-help-button" title="Help" href="apidocs-help.html"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 10px;">
          <p>For more information on the search, visit the <a href="apidocs-help.html#rst-search">help page</a>.</p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="twed.utils.html" class="internal-link" title="This module">utils</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#pad1d" class="internal-link" title="twed.utils.pad1d">pad1d</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#pad2d" class="internal-link" title="twed.utils.pad2d">pad2d</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_backtracking" class="internal-link" title="twed.utils._backtracking">_backtracking</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_dist_lp" class="internal-link" title="twed.utils._dist_lp">_dist<wbr></wbr>_lp</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_twed" class="internal-link" title="twed.utils._twed">_twed</a></code>
            </div>
        

    </li>
</ul> 

        
         

        
         

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="index.html" class="internal-link" title="The parent of this module">twed</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="twed.twed.html" class="internal-link" title="twed.twed">twed</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="twed.utils.html" class="internal-link" title="twed.utils">utils</a></code>
            </div>
        

    </li>
</ul> 

        
        

        
         

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="module"><code><code><a href="index.html" class="internal-link">twed</a></code><wbr></wbr>.<code><a href="twed.utils.html" class="internal-link" title="twed.utils">utils</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p class="undocumented">Undocumented</p></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id3">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#pad1d" class="internal-link" title="twed.utils.pad1d">pad1d</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#pad2d" class="internal-link" title="twed.utils.pad2d">pad2d</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_backtracking" class="internal-link" title="twed.utils._backtracking">_backtracking</a></code></td>
    <td>Compute the most cost-efficient edit path between two time series.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_dist_lp" class="internal-link" title="twed.utils._dist_lp">_dist<wbr></wbr>_lp</a></code></td>
    <td>Compute the l_p distance between two arrays.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_twed" class="internal-link" title="twed.utils._twed">_twed</a></code></td>
    <td>Compute the Time Warp Edit Distance (TWED) between two time series using dynamic programming.</td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basefunction">
  
  
  <a name="twed.utils.pad1d">
    
  </a>
  <a name="pad1d">
    
  </a>
  <div class="functionHeader">
    
    @jit(<wbr></wbr>nopython=True)<br />
    <span class="py-keyword">def</span> <span class="py-defname">pad1d</span><span class="function-signature">(ar)</span>:
    
    <a class="headerLink" href="#pad1d" title="twed.utils.pad1d">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twed.utils.pad2d">
    
  </a>
  <a name="pad2d">
    
  </a>
  <div class="functionHeader">
    
    @jit(<wbr></wbr>nopython=True)<br />
    <span class="py-keyword">def</span> <span class="py-defname">pad2d</span><span class="function-signature">(ar)</span>:
    
    <a class="headerLink" href="#pad2d" title="twed.utils.pad2d">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="twed.utils._backtracking">
    
  </a>
  <a name="_backtracking">
    
  </a>
  <div class="functionHeader">
    
    @jit(<wbr></wbr>nopython=True)<br />
    <span class="py-keyword">def</span> <span class="py-defname">_backtracking</span><span class="function-signature">(dyn)</span>:
    
    <a class="headerLink" href="#_backtracking" title="twed.utils._backtracking">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the most cost-efficient edit path between two time series.</p>
<p>This function performs a backtracking algorithm on the given dynamic programming matrix, typically generated during the computation of the Time Warp Edit Distance (TWED). It recovers the optimal sequence of edit operations (matches or deletions) that align the two time series.</p>
<p>The returned path is a list of tuples, each containing a pair of indices corresponding to the aligned elements in the time series.</p>
<p>:param dyn: A 2D numpy array representing the dynamic programming cost matrix. :type dyn: numpy.ndarray :return: A list of index pairs (tuples) representing the optimal edit path between the time series. :rtype: list[tuple]</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="twed.utils._dist_lp">
    
  </a>
  <a name="_dist_lp">
    
  </a>
  <div class="functionHeader">
    
    @jit(<wbr></wbr>nopython=True, <wbr></wbr>fastmath=True)<br />
    <span class="py-keyword">def</span> <span class="py-defname">_dist_lp</span><span class="function-signature">(a, b, p=2)</span>:
    
    <a class="headerLink" href="#_dist_lp" title="twed.utils._dist_lp">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the l_p distance between two arrays.</p>
<p>:param a: First array. :param b: Second array. :param p: Order of the norm (default is 2). :return: The l_p distance between a and b.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="twed.utils._twed">
    
  </a>
  <a name="_twed">
    
  </a>
  <div class="functionHeader">
    
    @jit(<wbr></wbr>nopython=True, <wbr></wbr>fastmath=True)<br />
    <span class="py-keyword">def</span> <span class="py-defname">_twed</span><span class="function-signature">(a, b, ts_a, ts_b, p, nu, lam)</span>:
    
    <a class="headerLink" href="#_twed" title="twed.utils._twed">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the Time Warp Edit Distance (TWED) between two time series using dynamic programming.</p>
<p>This function calculates the TWED between two numpy arrays representing time series data, taking into account both the magnitude differences and the temporal differences between the series. The calculation is accelerated using Numba's JIT compilation.</p>
<p>The TWED is computed by constructing a dynamic programming matrix where each cell represents the minimal cost of aligning two subsequences. The cost function includes:</p>
<ul class="rst-simple">
<li>The l_p distance between consecutive points (computed via _dist_lp),</li>
<li>A penalty proportional to the absolute difference of time stamps (weighted by nu),</li>
<li>A fixed penalty (lam) for deletion operations.</li>
</ul>
<p>:param a: Numpy array for the first time series (expected shape: (m, ...)). :param b: Numpy array for the second time series (expected shape: (n, ...)). :param ts_a: Numpy array of time stamps corresponding to `a` (length m). :param ts_b: Numpy array of time stamps corresponding to `b` (length n). :param p: The l_p distance parameter (p). :param nu: Non-negative float; penalty for temporal differences between consecutive points. :param lam: Non-negative float; penalty for deletion operations.</p>
<p>:return: A tuple containing:</p>
<ul class="rst-simple">
<li>The final TWED value (float), representing the distance between the two time series.</li>
<li>The dynamic programming matrix (numpy.ndarray) used to compute the TWED.</li>
</ul>
<p>:raises ValueError: If either `nu` or `lam` is negative.</p>
</div>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container-fluid">
    <a href="index.html">API Documentation</a> for Fast TWED,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    24.11.2 at 2025-03-20 00:49:34.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>